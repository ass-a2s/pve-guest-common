libpve-guest-common-perl (2.0-20) unstable; urgency=medium

  * add check/exec_hookscript to GuestHelpers

 -- Proxmox Support Team <support@proxmox.com>  Fri, 01 Feb 2019 12:47:56 +0100

libpve-guest-common-perl (2.0-19) unstable; urgency=medium

  * add bash completion helper for snapshot names

  * fixup some deprecated code usage

 -- Proxmox Support Team <support@proxmox.com>  Thu, 03 Jan 2019 09:55:20 +0100

libpve-guest-common-perl (2.0-18) unstable; urgency=medium

  * add snapshot rollback hook and remove qemu machine code

 -- Proxmox Support Team <support@proxmox.com>  Mon, 17 Sep 2018 15:22:50 +0200

libpve-guest-common-perl (2.0-17) unstable; urgency=medium

  * add create_and_lock_config

 -- Proxmox Support Team <support@proxmox.com>  Tue, 19 Jun 2018 14:05:32 +0200

libpve-guest-common-perl (2.0-16) unstable; urgency=medium

  * replication: handle guests recovered by HA

 -- Proxmox Support Team <support@proxmox.com>  Mon, 14 May 2018 11:15:09 +0200

libpve-guest-common-perl (2.0-15) unstable; urgency=medium

  * fix #1694: make failure of snapshot removal non-fatal

  * vzdump: add common log sub-method

  * vzdump: allow all defined log levels

 -- Proxmox Support Team <support@proxmox.com>  Mon, 16 Apr 2018 11:47:34 +0200

libpve-guest-common-perl (2.0-14) unstable; urgency=medium

  * leave handling or reporting of replication errors to the user of the
    functions (pve-manager/API)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 13 Dec 2017 12:04:36 +0100

libpve-guest-common-perl (2.0-13) unstable; urgency=medium

  * replication: purge states: verify the vmlist

  * add logfunc in storage_migration.

 -- Proxmox Support Team <support@proxmox.com>  Tue, 17 Oct 2017 15:04:32 +0200

libpve-guest-common-perl (2.0-12) unstable; urgency=medium

  * Fix #1480: locked VMs after trying to delete a non-existent snapshot

  * fix an issue with signal handlers being replaced leading to services not
    shutting down properly

 -- Proxmox Support Team <support@proxmox.com>  Thu, 21 Sep 2017 09:46:47 +0200

libpve-guest-common-perl (2.0-11) unstable; urgency=medium

  * replication: always include intermediate snapshots

 -- Proxmox Support Team <support@proxmox.com>  Mon, 03 Jul 2017 14:50:41 +0200

libpve-guest-common-perl (2.0-10) unstable; urgency=medium

  * replication job_status: add get_disabled parameter

 -- Proxmox Support Team <support@proxmox.com>  Thu, 29 Jun 2017 10:56:44 +0200

libpve-guest-common-perl (2.0-9) unstable; urgency=medium

  * PVE::Replication - do not use $jobcfg->{vmtype}

 -- Proxmox Support Team <support@proxmox.com>  Thu, 29 Jun 2017 07:28:37 +0200

libpve-guest-common-perl (2.0-8) unstable; urgency=medium

  * replication: add guest type when fetching a local job config

 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Jun 2017 14:32:05 +0200

libpve-guest-common-perl (2.0-7) unstable; urgency=medium

  * replication: add schedule_job_now helper

  * replication: sort time stamps numerically

  * replication: pass $noerr to run_replication_nolock

  * Add new function delete_guest_states

  * replication: don't sync to offline targets on error states

  * replication: keep retrying every 30 minutes in error state

  * PVE::ReplicationState - cleanup job state on job removal

  * PVE/Replication.pm: also log when we thaw the filesystem

 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Jun 2017 12:46:45 +0200

libpve-guest-common-perl (2.0-6) unstable; urgency=medium

  * change replication log timestamp to a human readable format

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2017 13:04:23 +0200

libpve-guest-common-perl (2.0-5) unstable; urgency=medium

  * PVE::AbstractMigrate - new helpers to handle replication jobs

  * PVE::ReplicationState::extract_vmid_tranfer_state - new helper

  * PVE::ReplicationConfig::switch_replication_job_target - new helper

  * PVE/ReplicationConfig.pm: store job id inside job config

  * PVE::Replication::run_replication - add verbose parameter

  * PVE::Replication::run_replication - return replicated $volumes

  * PVE::ReplicationState - new helpers record_job_start/record_job_end

  * PVE::Replication::find_common_replication_snapshot - new helper

  * PVE::ReplicationConfig::find_local_replication_job - new helper

  * replicate_volume: implement rate limit and insecure

  * PVE/ReplicationState.pm: implement write_vmid_job_states

  * Make rollback compatible with storage replication

  * PVE::Replication - pass $cleanup parameter to get_replicatable_volumes

  * PVE::AbstractConfig - add prototype for get_replicatable_volumes

  * PVE::Replication::prepare - allow to pass undefined $jobid

  * add PVE/Replication.pm - moved from pve-manager

  * PVE::ReplicationConfig add delete_job helper

  * PVE::ReplicationState - add job_status, get_next_job,
    job_logfile_name helpers

  * PVE::ReplicationConfig - new helper parse_replication_job_id

  * PVE::ReplicationConfig - use new ID format "<vmid>-<num>"

  * PVE::ReplicationState - hold guest_migration_lock during state update

  * PVE::ReplicationState - new helper class to read/write replication state

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2017 08:43:55 +0200

libpve-guest-common-perl (2.0-4) unstable; urgency=medium

  * PVE::GuestHelpers::guest_migration_lock - new helper

  * AbstractConfig.pm: remove code for replicate configuration

  * PVE/ReplicationConfig.pm - new configuratin file for replication

  * migration: use Cluster's new get_ssh_info

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 May 2017 09:15:12 +0200

libpve-guest-common-perl (2.0-3) unstable; urgency=medium

  * don't change replica settings on rollback

 -- Proxmox Support Team <support@proxmox.com>  Fri, 28 Apr 2017 13:56:39 +0200

libpve-guest-common-perl (2.0-2) unstable; urgency=medium

  * PVE/AbstractMigrate.pm: avoid locale specific time stamps

 -- Proxmox Support Team <support@proxmox.com>  Mon, 24 Apr 2017 07:41:06 +0200

libpve-guest-common-perl (2.0-1) unstable; urgency=medium

  * rebuild for PVE 5.0 / Debian Stretch

 -- Proxmox Support Team <support@proxmox.com>  Mon, 13 Mar 2017 11:28:54 +0100

libpve-guest-common-perl (1.0-2) unstable; urgency=medium

  * add VZDump base Plugin (moved from pve-manager)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 25 Jan 2017 09:50:54 +0100

libpve-guest-common-perl (1.0-1) unstable; urgency=medium

  * initial release, split out from libe-pve-common-perl

 -- Proxmox Support Team <support@proxmox.com>  Tue, 24 Jan 2017 14:07:48 +0100
